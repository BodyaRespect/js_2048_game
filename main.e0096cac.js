parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"6KIz":[function(require,module,exports) {
"use strict";function e(e,t){return i(e)||o(e,t)||r(e,t)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}function t(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function o(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,i,a,l=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===n){if(Object(r)!==r)return;s=!1}else for(;!(s=(t=i.call(r)).done)&&(l.push(t.value),l.length!==n);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}function i(e){if(Array.isArray(e))return e}var a="ArrowUp",l="ArrowDown",s="ArrowLeft",u="ArrowRight",c=[],d=0,m=!1,f=document.querySelector(".tileContainer"),v=document.getElementById("scoreElement"),g=document.getElementById("alert");function y(){for(var e=0;e<4;e++){for(var n=[],r=0;r<4;r++)n.push(0);c.push(n)}}function h(){g.style.display="none",f.innerHTML="",v.innerHTML=0,c=[],d=0,m=!1,window.addEventListener("keydown",p),y(),T(),T()}function w(){g.style.display="none",window.addEventListener("keydown",p)}function p(e){var n;switch(e.key){case a:n=b(1,0);break;case l:n=b(-1,0);break;case s:n=b(0,-1);break;case u:n=b(0,1)}if(n){T();var r=Y();r.gameOver&&x(r.message)}}function L(e,n,r){return e<=r&&1===n||e>=0&&-1===n}function b(e,n){var r=!1,t=!1;if(0!==n)for(var o=1===n?3:0,i=1===n?-1:1,a=0;a<4;a++)for(var l=o;L(l,i,3);)if(0!==c[a][l]){var s=A(a,l,0,n),u=".row"+(a+1)+".column"+(l+1),m=document.querySelector(u);!s.merge||s.merge&&t?(t=!1,s.destinationX+=s.merge?i:0,c[a][s.destinationX]=c[a][l],s.destinationX!==l&&(r=!0,c[a][l]=0),k(a,s.destinationX,m,!1),l+=i):(t=!0,c[a][s.destinationX]=2*c[a][l],d+=c[a][s.destinationX],v.innerHTML=d,r=!0,c[a][l]=0,k(a,s.destinationX,m,s.merge),l+=i)}else l+=i;else if(0!==e)for(var f=1===e?3:0,g=1===e?-1:1,y=0;y<4;y++)for(var h=f;L(h,g,3);)if(0!==c[h][y]){var w=A(h,y,e,0),p=".row"+(h+1)+".column"+(y+1),b=document.querySelector(p);!w.merge||w.merge&&t?(t=!1,w.destinationY+=w.merge?g:0,c[w.destinationY][y]=c[h][y],w.destinationY!==h&&(r=!0,c[h][y]=0),k(w.destinationY,y,b,!1),h+=g):(t=!0,c[w.destinationY][y]=2*c[h][y],d+=c[w.destinationY][y],v.innerHTML=d,r=!0,c[h][y]=0,k(w.destinationY,y,b,w.merge),h+=g)}else h+=g;return r}function E(e,n,r,t){return 1===e&&n<r&&!t||-1===e&&n>0&&!t}function A(e,n,r,t){for(var o=e,i=n,a=!1;E(r,o,3,a)||E(t,i,3,a);){var l=o+r,s=i+t,u=c[l][s],d=c[e][n];if(a)break;if(0===u||u===d)o=l,i=s,a=u===d;else if(0!==u&&u!==d)break}return{merge:a,destinationY:o,destinationX:i}}function k(e,n,r,t){if(Array.from(r.classList).forEach(function(e){(e.startsWith("row")||e.startsWith("column"))&&r.classList.remove(e)}),r.classList.add("row"+(e+1),"column"+(n+1)),t){for(var o=f.querySelectorAll(".row"+(e+1)+".column"+(n+1));o.length>1;)f.removeChild(o[0]),o=f.querySelectorAll(".row"+(e+1)+".column"+(n+1));o[0].className="tile row"+(e+1)+" column"+(n+1)+" value"+c[e][n],o[0].innerHTML=c[e][n],o[0].classList.add("merged"),o[0].addEventListener("animationend",function(){return r.classList.remove("merged")})}}function M(e,n,r){var t=document.createElement("div");t.classList.add("tile","row"+(e+1),"column"+(n+1),"value"+r),t.innerHTML=r,f.appendChild(t),t.classList.add("merged"),t.addEventListener("animationend",function(){return t.classList.remove("merged")})}function T(){for(var n=[],r=0;r<c.length;r++)for(var t=0;t<c[r].length;t++)0===c[r][t]&&n.push([r,t]);var o=e(n[Math.floor(Math.random()*n.length)],2),i=o[0],a=o[1];c[i][a]=Math.random()<.9?2:4,M(i,a,c[i][a])}function Y(){for(var e=!1,n=0;n<c.length;n++)for(var r=0;r<c[n].length;r++){if(0===c[n][r]&&(e=!0),2048===c[n][r]&&!m)return{gameOver:!0,message:"You won!"};3!==r&&c[n][r]===c[n][r+1]&&(e=!0),3!==n&&c[n][r]===c[n+1][r]&&(e=!0)}return e?{gameOver:!1,message:""}:{gameOver:!0,message:"Game over!"}}function S(e,n){var r=document.createElement("div");return g.innerText=e,n.forEach(function(e){var n=document.createElement("button");n.innerText=e.text,n.onclick=e.handler,r.appendChild(n)}),r}function x(e){if(g.innerHTML="","Game over!"===e||"You won!"===e){var n=[{text:"Game over!"===e?"Try again":"New game",handler:h}];"You won!"===e&&(n.push({text:"Continue",handler:w}),m=!0,window.removeEventListener("keydown",p));var r=S(e,n);g.appendChild(r)}g.style.display="flex",g.style.flexDirection="column"}document.getElementById("newGame").addEventListener("click",h),y(),T(),T(),window.addEventListener("keydown",p);
},{}]},{},["6KIz"], null)
//# sourceMappingURL=main.e0096cac.js.map